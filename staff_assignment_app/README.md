# 要員アサイン管理システム（生成AI版）

運用・保守の要員アサイン管理のためのPython Webアプリケーションです。生成AI技術を活用した高度な候補選定機能を搭載しています。

## 機能概要

### 基本機能
- **要員管理**: 約500名の要員（コベルコシステム社員・パートナー企業）の管理
- **案件管理**: プロジェクトの計画・進捗管理
- **アサイン管理**: 要員の案件へのアサイン状況管理
- **レポート機能**: 稼働状況・案件状況のレポート

### 専門性管理
- **領域別専門性**: 生産管理、販売管理、調達管理
- **スキル管理**: オープン系、ホスト系
- **プロフェッション管理**: 有識者、プロジェクトマネージャー、設計者、開発者

### 🤖 生成AI機能
- **AI候補選定**: スキル、領域、アサイン状況を考慮した要員候補の自動選定
- **多基準スコアリング**: 複数基準による総合評価（基本マッチング30%、稼働状況25%、経験・スキル25%、案件適合性20%）
- **AI推奨理由**: 生成AIによる選定理由の自動説明
- **リアルタイム分析**: 現在の稼働状況を考慮した動的候補選定

## 技術スタック

- **Backend**: Python 3.8+, Flask 2.3.3
- **Database**: SQLite (開発), PostgreSQL (本番)
- **ORM**: SQLAlchemy 2.0.21
- **Frontend**: HTML5, Bootstrap 5, JavaScript, jQuery
- **Charts**: Chart.js

## セットアップ

### 1. 依存関係のインストール

```bash
pip install -r requirements.txt
```

### 2. データベースの初期化

```bash
python scripts/sample_data.py
```

### 3. アプリケーションの起動

```bash
python run_app.py
```

アプリケーションは `http://localhost:5001` で起動します。

## 主要機能

### ダッシュボード
- システム全体の統計情報
- 最近のアサイン状況
- クイックアクション

### 要員管理
- 要員の登録・編集・削除
- スキル・プロフェッション・専門領域の管理
- 稼働状況の可視化

### 案件管理
- 案件の登録・編集・削除
- 案件要件の設定
- アサイン状況の確認

### AI候補選定
- 案件に最適な要員候補の自動選定
- スキル・領域・稼働状況を考慮したスコアリング
- 候補の詳細情報と推奨理由の表示
- ワンクリックでのアサイン作成

### アサイン管理
- 月次ベースのアサイン管理
- フルアサイン・パーシャルアサインの対応
- カレンダー表示
- 稼働状況レポート

## データベース設計

### 主要テーブル
- `staff`: 要員情報
- `project`: 案件情報
- `assignment`: アサイン情報
- `staff_skill`: 要員スキル
- `staff_profession`: 要員プロフェッション
- `staff_domain`: 要員専門領域
- `project_requirement`: 案件要件

### リレーション
- 要員 ↔ アサイン (1:N)
- 案件 ↔ アサイン (1:N)
- 要員 ↔ スキル (1:N)
- 要員 ↔ プロフェッション (1:N)
- 要員 ↔ 専門領域 (1:N)
- 案件 ↔ 要件 (1:N)

## 🤖 生成AI候補選定アルゴリズム

### 多基準スコアリングシステム
1. **基本マッチングスコア (30%)**
   - 専門領域マッチング（生産管理、販売管理、調達管理）
   - スキルマッチング（オープン系、ホスト系）
   - プロフェッションマッチング（有識者、PM、設計者、開発者）

2. **稼働状況スコア (25%)**
   - 現在の稼働率分析
   - 空き時間の有無と容量
   - 既存アサインとの競合回避

3. **経験・スキルレベルスコア (25%)**
   - 習熟度レベル（初級、中級、上級、エキスパート）
   - 経験年数と実績
   - スキル習得度の評価

4. **案件適合性スコア (20%)**
   - 案件の複雑さと要員の対応力
   - 要員の多様性と専門性
   - 案件期間との適合性

### 🧠 生成AI推奨理由システム
- **適合性評価**: スコアに基づく総合適合度の自動判定
- **稼働状況分析**: 現在の稼働状況と空き時間の詳細説明
- **マッチング詳細**: 専門領域、スキル、プロフェッションの具体的な適合度
- **アサイン状況**: 現在のアサイン状況と新規アサインへの影響分析

## 使用方法

### 1. 要員の登録
1. 「要員管理」→「要員追加」で要員を登録
2. 要員詳細画面でスキル・プロフェッション・専門領域を設定

### 2. 案件の登録
1. 「案件管理」→「案件追加」で案件を登録
2. 案件要件を設定

### 3. 🤖 生成AI候補選定
1. 案件詳細画面で「AI候補選定」をクリック
2. 対象年月を選択
3. 生成AIが選定した候補から要員を選択（スコア順で表示）
4. 推奨理由を確認して最適な要員を選択
5. 「アサイン作成」でワンクリックアサイン登録

### 4. アサイン管理
1. 「アサイン管理」でアサイン一覧を確認
2. 「カレンダー表示」で月次カレンダーを表示
3. 「レポート」で稼働状況を確認

## 開発・カスタマイズ

### プロジェクト構造
```
staff_assignment_app/
├── src/                    # ソースコード
│   ├── models.py          # データベースモデル
│   ├── database.py        # データベース接続
│   ├── app.py            # Flaskアプリケーション
│   └── ai_assignment_advisor.py  # AI候補選定ロジック
├── templates/             # HTMLテンプレート
├── scripts/              # ユーティリティスクリプト
├── tests/                 # テストコード
└── docs/                  # ドキュメント
```

### カスタマイズポイント
- AIスコアリングアルゴリズムの調整
- 新しい専門領域・スキルの追加
- レポート機能の拡張
- UI/UXの改善

## 🚀 生成AI版の特徴

### 高度なAI機能
- **多基準スコアリング**: 4つの主要基準による総合評価
- **リアルタイム分析**: 現在の稼働状況を考慮した動的候補選定
- **推奨理由生成**: AIによる選定理由の自動説明
- **ワンクリックアサイン**: 候補から直接アサイン作成

### 効率性の向上
- **手動選定の削減**: AIによる自動候補選定で作業時間を大幅短縮
- **最適化されたアサイン**: スキル・稼働状況を考慮した最適な要員配置
- **透明性の確保**: AIの選定理由を明確に表示

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## サポート

質問や問題がある場合は、プロジェクトのIssuesページで報告してください。
